<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">

    <title>Covid Risk "Model"</title>

    <script src="js/charts.js"></script>
    <script src="js/data.js"></script>
    <script src="js/timeseries.js"></script>
    <script src="js/ui.js"></script>
  </head>
  <body onload="main_entry()">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/nicolaspanel/numjs@0.15.1/dist/numjs.min.js"></script>

    <div class="container">
      <div class="row">
        <form class="col-md-4">
            <select class="form-control select2" id="select_state_control">
              <option>Select State</option>
            </select>
        </form>
        <form class="col-md-4">
          <select class="form-control select2" id="select_county_control">
            <option>Select County</option>
          </select>
        </form>      
      </div>
    </div>

    <script>
      $('.select2').select2();
    </script>
  
    <br>
    <div class="container">
      <p>
        <a class="btn btn-primary btn-sm" data-toggle="collapse" href="#parameter_panel" role="button" aria-expanded="false" aria-controls="parameter_panel">
          Show Parameters
        </a>
      </p>
      <div class="row collapse" id="parameter_panel">
        <form>
          <h5>Backsolving Daily Cases from Mortality</h5>
          <p>
          The following parameters control the assumed normal distribution, for
          those who ultimately die of COVID-19, of the number of days when they
          are first infected to when they pass away.
          </p>
          <label for="infection_mortality_delay">Mean Days from Infection to Death</label>
          <input type="range" class="custom-range" min="0" max="30" step="1" id="infection_mortality_delay">
          <label for="infection_mortality_iqr">Interquartile Range</label>
          <input type="range" class="custom-range" min="1" max="14" step="1" id="infection_mortality_iqr">
          <br>
          <p>
          The following parameters control the assumed fatality rate, or the
          fraction of people who, once infected, will eventually die. The rate
          changes with time, for instance as treatment becomes more effective,
          so we set an "early" rate and a "late" rate, as well as a transition
          day and an approximation for the number of days over which this
          transition may have occurred.
          </p>
          <div class="form-row align-items-center">
            <div class="col-sm-3 my-1">
              <label class="sr-only" for="early_fatality_rate">Early Fatality Rate</label>
              <input type="text" class="form-control" id="early_fatality_rate" placeholder="0.01">
            </div>
            <div class="col-sm-3 my-1">
              <label class="sr-only" for="transition_date">Fatality Rate Transition Date</label>
              <input type="text" class="form-control" id="transition_date" placeholder="1 June 2020">
            </div>
            <div class="col-sm-3 my-1">
              <label for="fatality_rate_transition_days">Transition Time in Days</label>
              <input type="range" class="custom-range" min="1" max="30" step="1" id="fatality_rate_transition_days">
            </div>
            <div class="col-sm-3 my-1">
              <label class="sr-only" for="late_fatality_rate">Late Fatality Rate</label>
              <input type="text" class="form-control" id="late_fatality_rate" placeholder="0.005">
            </div>
          </div>
          <br>
          <p>
          Finally, we select the average number of days that a person with
          COVID-19 is likely to be actively contagious. By default, we assume
          either presymptomatic and contagious or asymptomatic, since a
          symptomatic carrier is (hopefully) likely to self-isolate.
          </p>
          <label for="contagious_days">Days Contagious</label>
          <input type="range" class="custom-range" min="1" max="30" step="1" id="contagious_days">
        </form>
      </div>
    </div>

    <div class="container">
      <div class="row">
        <canvas id="daily_fatalities_canvas"></canvas>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <canvas id="daily_cases_canvas"></canvas>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <canvas id="active_cases_canvas"></canvas>
      </div>
    </div>
    

</body>
</html>